<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="A single player rogue-like card game" /> 

    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="stylesheet" type="text/css" href="style.css" />

    <title>Scoundrel</title>
  </head>
  <body>
    <script type="text/javascript" src="./script.js" defer></script>
    <main>
        <h1>Scoundrel</h1>

        <div class="parent">
          <div class="gridItem top" id="dungeon">
            <p>Dungeon</p>
          </div>
          <div class="gridItem top" id="cardOne">
            <button type="button">Card 1</button>
          </div>
          <div class="gridItem top" id="cardTwo">
            <button type="button">Card 2</button>
          </div>
          <div class="gridItem top" id="cardThree">
            <button type="button">Card 3</button>
          </div>
          <div class="gridItem top" id="cardFour">
            <button type="button">Card 4</button>
          </div>
          <div class="gridItem top" id="graveyard">
            <p>Graveyard</p>
          </div>
          <div class="gridItem bottom" style="border: none;">
            <div class="weaponDiv">
              <p id="weaponText">Weapon</p>
            </div>
          </div>
        </div>

        <div id="slainMonster">
          <p>Monster</p>
        </div>

        <button type="button" class="roomBtn" onClick="showRoomPrompt()" style="margin-top: 10px;" id="enterRoomBtn">Enter Room</button>

        <div id="healthDiv" style="margin-bottom: -70px;">
          <p>Health</p>
          <p class="health" id="health">20</p>
        </div>

        <div id="reset">
          <button type="button" onClick="resetDeck()">Reset</button>
        </div>
        <div id="rules">
          <button type="button" onClick="showRules()">Rules</button>
        </div>
        <div id="debug">
          <button type="button" onClick="showDebug()">Debug</button>
        </div>

        <div class="prompt" id="combatPrompt">
          <p id="combatPromptText">How do you want to fight this monster?</p>
          <button type="button" onClick="evaluateCombat(tempMonster, false)">Use Weapon</button>
          <button type="button" onClick="evaluateCombat(tempMonster, true)">Barehanded</button>
        </div>
        <div class="prompt" id="roomPrompt_1">
          <p>Would you like to skip this room?</p>
          <button type="button" onClick="skipRoom()">Yes</button>
          <button type="button" onClick="hideRoomPrompt()">No</button>
        </div>
        <div class="prompt" id="roomPrompt_2">
          <p>You need to clear this room!</p>
          <button type="button" onClick="hideRoomPrompt()">Confirm</button>
        </div>
        <div class="prompt" id="gameOverPrompt">
          <p id="score"><b>Game Over!</b><br />Final Score: 0</p>
          <button type="button" onClick="resetDeck()">Reset</button>
        </div>
      </div>

      <div>
        <p id="devArea"></p>
      </div>

      <div id="rulesDiv">
        <h2>Setup</h2>
        <p>Scoundrel is played with a standard deck of cards without jokers, red face cards, and red aces. The deck is shuffled before play.</p>
        <p>Place the deck to your left, this is the <b>Dungeon</b>.</p>
        <p>To your right is the discard pile, the <b>Graveyard</b>.</p>
        <p>Between the <b>Dungeon</b> and the <b>Graveyard</b> is the current <b>Room</b>.</p>
        <p>Make a note of the number 20, this is your starting <b>Health</b>.</p>

        <h2>Rules</h2>
        <p>The 26 Clubs and Spades are <b>Monsters</b>. Their damage is equal to their <i>nominal value</i> with Jack being 11, Queen 12, King 13, and Ace 14.</p>
        <p>The 9 Diamonds are <b>Weapons</b>. Each <b>Weapon</b> deals damage equal to its <i>nominal value</i>. All <b>Weapon</b>s are <i>binding</i>, which means if you pick one up you <i>must equip it</i> and discard your previous <b>Weapon</b>.</p>
        <p>The 9 Hearts are <b>Health Potions</b>. You may only use <i>one</i> health potion per turn, even if there's more than one in the <b>Room</b>. Every potion after the first is discarded.</p>
        <p>The game ends in one of two ways: Either you clear the <b>Dungeon</b>, or your <b>Health</b> reaches 0.</p>

        <h2>Scoring</h2>
        <p>If your <b>Health</b> reaches 0, take all the remaining <b>Monster</b>s in the <b>Dungeon</b> and <i>subtract</i> their values from your <b>Health</b>. This (negative) number is your score.</p>
        <p>If you complete the <b>Dungeon</b>, your score is your remaining <b>Health</b>, or, if your <b>Health</b> is 20 your health <i>plus</i> the value of the <i>last</i> potion in the dungeon for a maximum of 30.</p>

        <h2>Gameplay</h2>
        <p>Each turn you enter a new <b>Room</b>. This is done by drawing cards until you have four face-up cards in front of you. These four cards are your <b>Room</b>.</p>
        <p>You may skip a <b>Room</b>. If you do, take <i>all four</i> cards of the <b>Room</b> and place them at the bottom of the <b>Dungeon</b>. You may skip as many <b>Room</b>s as you want, but you <b>may not</b> skip two <b>Room</b>s in a row.</p>
        <p>If you choose to play the <b>Room</b>, you must face at least <i>three</i> of the four cards, taking them one at a time in <i>any</i> order.</p>
        <h3>If you choose a <i>Weapon</i><br />&#x2666;</h3>
        <p>You <i>must</i> equip it. Do this by placing it face-up between you and the <b>Room</b>. If you had a <b>Weapon</b> equipped, move it and any <b>Monster</b>s on it to the <b>Graveyard</b>.</p>
        <h3>If you choose a <i>Health Potion</i><br />&#x2665;</h3>
        <p>Add its number to your <b>Health</b>, then move it to the <b>Graveyard</b>. Your <b>Health</b> <i>may not</i> exceed 20 and you <i>may not</i> use more than one Health Potion per turn. If you take two <b>Health Potion</b>s in one turn, the second is discarded and nothing more is added to your <b>Health</b>.</p>
        <h3>If you choose a <i>Monster</i><br />&#x2660; &#x2663;</h3>
        <p>You may fight it barehanded or with an equipped <b>Weapon</b>.</p>
        <p>Once you have faced at least <i>three</i> cards, you may enter a new <b>Room</b>. If you choose to continue after facing three cards, the fourth card becomes part of the next <b>Room</b>, but you may face the fourth card if you wish.</p>

        <h2>Combat</h2>
        <h3>Barehanded</h3>
        <p>If you choose to fight barehanded, subtract the <b>Monster</b>'s full value from your <b>Health</b> and move the <b>Monster</b> to the <b>Graveyard</b>.</p>
        <h3>With an Equipped Weapon</h3>
        <p>If you choose to fight with your <b>Weapon</b>, place the <b>Monster</b> on top of your <b>Weapon</b> and any other <b>Monster</b>s on the <b>Weapon</b>. Damage is calculated by subtracting the <b>Weapon</b>'s value from the <b>Monster</b>'s value and subtracting the result from your <b>Health</b>. For example, if your <b>Weapon</b> is a 5 and the <b>Monster</b> is a 3, you take <i>no damage</i> because the <b>Monster</b> <i>isn't more powerful</i> than your <b>Weapon</b>. If your <b>Weapon</b> is a 5 and you face a <b>Monster</b> that's a 7, you take 2 damage.</p>
        <p>Although you keep your <b>Weapon</b>s until they're replaced, once a <b>Weapon</b> is used against a <b>Monster</b>, the <b>Weapon</b> can only be used to slay <b>Monster</b>s of a lower value than the previous <b>Monster</b> slain. For example, if your 5 <b>Weapon</b> is used against a 10 <b>Monster</b>, you may use it against a 6 <b>Monster</b>. If, however, you use your 5 <b>Weapon</b> against a 6 <b>Monster</b>, you <i>may not</i> use it to face a 10 <b>Monster</b>, but you can use it against any <b>Monster</b> weaker than 6.</p>
      </div>
    </main>
  </body>
</html>
